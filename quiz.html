<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>睡眠解码 - 分型测试</title>
    <meta name="theme-color" content="#0a0e1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=2">
    <link rel="stylesheet" href="quiz.css?v=2">
    <style>
        /* Inherit Background from Index (Deep Gradient) */
        body {
            background: radial-gradient(circle at 80% 10%, #2e265c 0%, #17153B 40%, #020205 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Fluid Background Container */
        .flow-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* Behind everything */
            overflow: hidden;
            pointer-events: none;
        }

        /* Common Blob Style */
        .flow-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            /* Increased blur for softness */
            opacity: 0.6;
            animation: float-blob 20s infinite alternate ease-in-out;
        }

        /* 1. Deepest Subconscious (Bottom Left) */
        .blob-1 {
            width: 700px;
            height: 700px;
            background: radial-gradient(circle, #17153b 0%, transparent 70%);
            bottom: -20%;
            left: -20%;
            opacity: 0.8;
            animation-duration: 25s;
        }

        /* 2. Deep Blue/Violet (Top Mid) */
        .blob-2 {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, #312e81 0%, transparent 70%);
            top: -20%;
            left: 30%;
            animation-duration: 30s;
            animation-delay: -5s;
        }

        /* 3. Moon Light Source (Top Right) - BRIGHTER & WHITER */
        .blob-3 {
            width: 450px;
            height: 450px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, rgba(255, 240, 200, 0.15) 40%, transparent 80%);
            top: -5%;
            right: -5%;
            animation: breathe-relax 10s ease-in-out infinite;
            opacity: 1.0;
            filter: blur(40px);
            z-index: 2;
        }

        /* 4. Soft Blue Accent (Center Right) */
        .blob-4 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(96, 165, 250, 0.15) 0%, transparent 70%);
            bottom: 20%;
            right: 10%;
            animation-duration: 22s;
            animation-delay: -10s;
            z-index: 1;
        }

        /* 5. Under-Moon Purple Accent */
        .blob-5 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(139, 92, 246, 0.5) 0%, rgba(109, 40, 217, 0.2) 60%, transparent 100%);
            top: 5%;
            right: -5%;
            filter: blur(60px);
            opacity: 0.8;
            animation: float-blob 15s infinite alternate ease-in-out;
            z-index: 1;
        }

        /* Cosmic Grain Noise Texture */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            /* Just above blobs, below content */
            opacity: 0.07;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        @keyframes float-blob {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(30px, -20px);
            }
        }

        @keyframes breathe-relax {
            0% {
                transform: translateY(10px) scale(0.95);
                opacity: 0.8;
            }

            40% {
                transform: translateY(-15px) scale(1.05);
                opacity: 1;
            }

            100% {
                transform: translateY(10px) scale(0.95);
                opacity: 0.8;
            }
        }
    </style>
</head>

<body class="selection:bg-purple-500/30">
    <!-- Fluid Background System (Copied from Index) -->
    <div class="flow-container">
        <div class="flow-blob blob-1"></div>
        <div class="flow-blob blob-2"></div>
        <div class="flow-blob blob-5"></div>
        <div class="flow-blob blob-3"></div>
        <div class="flow-blob blob-4"></div>
    </div>

    <!-- Noise Overlay -->
    <div class="noise-overlay"></div>

    <!-- Top Fixed Progress Bar -->
    <!-- Top Fixed Progress Bar -->
    <div class="fixed top-0 left-0 w-full z-50 pb-4 bg-gradient-to-b from-[#0a0e1a]/95 to-transparent backdrop-blur-md"
        style="display: flex !important; flex-direction: row !important; align-items: center !important; justify-content: center !important; gap: 16px !important; padding-top: 40px !important;">
        <div class="progress-dots flex gap-2" id="progressDots">
            <!-- JS Populated -->
        </div>
        <span class="text-xs font-mono text-white/70 tracking-widest pt-1" id="progressText">1/10</span>
    </div>

    <div class="container quiz-container pt-20">
        <!-- 问卷区域 -->
        <div class="quiz-wrapper" id="quizWrapper">
            <!-- Dynamic Content will be injected by quiz.js -->
        </div>
    </div>

    <!-- 过渡层 -->
    <div class="transition-overlay" id="transitionOverlay">
        <div class="transition-content">
            <div class="loading-ring"></div>
            <p class="loading-text">正在解码你的睡眠噪音…</p>
        </div>
    </div>

    <script src="script.js?v=30"></script>
    <script src="quiz.js?v=30"></script>
</body>

</html>