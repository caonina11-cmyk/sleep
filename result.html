<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>睡眠解码 - 你的报告</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@700;900&family=Noto+Sans+SC:wght@300;400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=3">
    <link rel="stylesheet" href="result.css?v=3">
    <style>
        .fade-in-up {
            animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .delay-100 {
            animation-delay: 0.1s;
        }

        .delay-200 {
            animation-delay: 0.2s;
        }

        .delay-300 {
            animation-delay: 0.3s;
        }
    </style>
</head>

<body class="bg-black text-white min-h-screen selection:bg-purple-500/30 overflow-x-hidden">

    <!-- Navbar -->
    <nav
        class="fixed top-0 w-full z-50 px-6 py-4 flex justify-between items-center bg-gradient-to-b from-black/80 to-transparent backdrop-blur-sm">
        <div class="text-white/50 text-xs tracking-widest">SLEEP DECODER</div>
        <div class="w-8 h-8 rounded-full border border-white/10 flex items-center justify-center bg-white/5">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" class="text-white/60">
                <path
                    d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" />
            </svg>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="relative w-full max-w-md mx-auto pt-24 pb-32 px-6">

        <!-- ================= STEP 1: 第一眼 (The Hook) ================= -->
        <div id="diagnosis-stage" class="text-center space-y-6 fade-in-up">

            <!-- Type Title -->
            <div class="space-y-2">
                <div
                    class="inline-block px-3 py-1 bg-white/10 rounded-full text-[10px] tracking-widest text-white/60 mb-2 uppercase">
                    Your Archetype</div>
                <h1 id="result-title" class="text-4xl font-serif text-white tracking-wider glow-text">--</h1>
            </div>

            <!-- Radar Chart (Visual Anchor) -->
            <div class="relative w-full h-[220px] mx-auto py-2">
                <canvas id="energyRadar"></canvas>
            </div>

        </div>

        <!-- ================= STEP 2: The Letter ================= -->
        <div id="talent-stage" class="space-y-4 pt-4 fade-in-up delay-300">
            <!-- The Analysis Container -->
            <div class="glass-card p-1 rounded-2xl">
                <div id="analysis-text" class="space-y-6 text-left">
                    <!-- Dynamic Letter Injected Here -->
                </div>
            </div>
            <!-- Legacy Footer Removed -->

            <!-- 3. Final Hook (Unified Dark Pass) -->
            <div class="pt-0 pb-12">
                <!-- The Dark Pass Card (Enhanced Gradient & Border) -->
                <div
                    class="relative overflow-hidden bg-gradient-to-br from-[#111620] via-[#0A0A0E] to-black rounded-2xl border border-cyan-400/40 shadow-[0_0_40px_rgba(34,211,238,0.15)] group">

                    <!-- Background Glow -->
                    <div
                        class="absolute top-0 right-0 w-64 h-64 bg-cyan-900/20 blur-[80px] rounded-full pointer-events-none mix-blend-screen opacity-60">
                    </div>
                    <div
                        class="absolute -bottom-12 -left-12 w-48 h-48 bg-purple-900/20 blur-[60px] rounded-full pointer-events-none mix-blend-screen opacity-40">
                    </div>

                    <div class="relative z-10 p-8 text-center space-y-6">

                        <!-- The Hook -->
                        <div class="space-y-3">
                            <div
                                class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-cyan-500/10 border border-cyan-500/20 mb-2">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                    class="text-cyan-400 animate-pulse">
                                    <path
                                        d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
                                        fill="currentColor" fill-opacity="0.2" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </div>
                            <h3 class="text-xl md:text-2xl font-serif text-white tracking-wide leading-tight">
                                睡眠，只是潜意识的影子<br>也是一种能量错位

                        </div>

                        <!-- The Pitch (More distinct box) -->
                        <div class="p-3 bg-white/5 rounded-lg border border-white/5 backdrop-blur-sm">
                            <p class="text-[13px] text-white/70 leading-relaxed">
                                想知道这股能量在事业与人生中的真正形态吗？<br><span class="text-cyan-200">预约 1对1 深度咨询，获取完整全息方案。</span>
                            </p>
                        </div>

                        <!-- The Action -->
                        <button id="consult-btn"
                            class="w-full py-4 bg-gradient-to-r from-cyan-100 to-white text-cyan-950 hover:to-cyan-50 rounded-xl text-sm font-bold tracking-wide transition-all shadow-[0_0_20px_rgba(34,211,238,0.3)] transform active:scale-[0.98]">
                            添加顾问 (WeChat)
                        </button>

                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- QR Code Modal (Hidden by default) -->
    <div id="qr-modal"
        class="fixed inset-0 z-[100] flex items-center justify-center px-6 opacity-0 pointer-events-none transition-opacity duration-300">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md" onclick="closeQrModal()"></div>

        <!-- Modal Card -->
        <div
            class="relative bg-[#1A1830] border border-cyan-500/30 rounded-2xl p-8 max-w-sm w-full text-center space-y-6 transform scale-95 transition-transform duration-300">
            <div class="space-y-2">
                <h3 class="text-xl font-serif text-white">添加专属睡眠顾问</h3>
                <p class="text-xs text-white/50">保存二维码或直接扫码添加</p>
            </div>

            <!-- QR Code -->
            <div class="w-48 h-48 mx-auto bg-white rounded-xl p-2 shadow-inner">
                <img src="qrcode.png" alt="WeChat QR Code" class="w-full h-full object-contain rounded-lg">
            </div>

            <button onclick="closeQrModal()" class="text-sm text-cyan-400 hover:text-cyan-300 tracking-wide">
                关闭窗口
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js?v=30"></script>
</body>

</html>